{"version":3,"sources":[" [synthetic:base] "," [synthetic:util/defineproperty] "," [synthetic:util/global] "," [synthetic:es6/symbol] "," [synthetic:es6/util/makeiterator] "," [synthetic:es6/util/arrayfromiterator] "," [synthetic:es6/util/arrayfromiterable] "," [synthetic:es6/util/inherits] "," [synthetic:es6/util/iteratorfromarray] "," [synthetic:util/polyfill] "," [synthetic:es6/promise] ","src/lib/goog.js","src/lib/base/math.js","src/lib/base/gesture-handler.js","src/lib/base/uid.js","src/lib/base/component-manager.js","src/lib/base/eventemitter2.js","src/lib/base/component.js","src/lib/view.js","src/lib/view-manager.js","src/lib/locale.js","src/components/sidebar/sidebar.js","src/components/tabbar/tabbar.js","src/components/navbar/navbar.js","src/components/pull-to-refresh/pull-to-refresh-model.js","src/components/pull-to-refresh/pull-to-refresh.js","src/components/infinite-scroll/infinite-scroll-model.js","src/lib/throttle.js","src/components/infinite-scroll/infinite-scroll.js","src/index.js"],"names":["goog","global","isDef","goog.isDef","val","exportPath_","goog.exportPath_","name","opt_object","opt_objectToExportTo","parts","split","cur","execScript","part","length","shift","define","goog.define","defaultValue","abstractMethod","goog.abstractMethod","Error","addSingletonGetter","goog.addSingletonGetter","ctor","getInstance","ctor.getInstance","instance_","DEBUG","instantiatedSingletons_","isString","goog.isString","isObject","goog.isObject","type","getUid","goog.getUid","obj","UID_PROPERTY_","uidCounter_","hasUid","goog.hasUid","removeUid","goog.removeUid","removeAttribute","ex","Math","random","exportSymbol","goog.exportSymbol","publicPath","object","exportProperty","goog.exportProperty","publicName","symbol","$jscompDefaultExport","angle","angle$$module$$src$lib$base$math","x1","y1","x2","y2","r","atan2","angleRadians","PI","b","distance","distance$$module$$src$lib$base$math","lerp","lerp$$module$$src$lib$base$math","a","x","deviceIsIOSWithBadTarget","navigator","userAgent","match","test","EventType","TAP","LONG_TAP","SWIPE_RIGHT","SWIPE_UP","SWIPE_LEFT","SWIPE_DOWN","constructor","GestureHandler","opt_el","el","document","body","canSwipe","canTap","isInMotion","touchStartTime","touches","addEventListener","onTouchstart","bind","onTouchmove","onTouchend","e","getTime","Date","changedTouch","changedTouches","timeStamp","pageX","pageY","abs","push","date","filter","touch","index","arr","relatedTimeStamp","module$$src$lib$base$math","default","eventType","swipe","createEvent","initEvent","target","dispatchEvent","tapTimeDiff","tap","eventName","targetElement","elementFromPoint","window","pageXOffset","pageYOffset","module$$src$lib$base$gesture_handler","counter","floor","module$$src$lib$base$uid","getUid$$module$$src$lib$base$uid","toString","componentRegistry","gestureHandler","events","onLoad$$module$$src$lib$base$component_manager","forEach","handleEvent","readyState","onLoad","createElement","tempDiv","htmlString","innerHTML","trim","removeChild","firstChild","getParentComps$$module$$src$lib$base$component_manager","child","node","parentComps","comp","ids","getAttribute","id","parentNode","setAttribute","join","handleEvent$$module$$src$lib$base$component_manager","targetEl","comps","getParentComps","broken","i","handlers","selectors","Object","keys","callHandler","callHandler$$module$$src$lib$base$component_manager","rv","selector","matches","call","targetComponent","module$$src$lib$base$component_manager","getComponent","getComponent$$module$$src$lib$base$component_manager","setComponent","setComponent$$module$$src$lib$base$component_manager","removeComponent","removeComponent$$module$$src$lib$base$component_manager","isArray","Array","_isArray","prototype","init$$module$$src$lib$base$eventemitter2","init","_events","_conf","configure","configure$$module$$src$lib$base$eventemitter2","conf","delimiter","maxListeners","undefined","defaultMaxListeners","wildcard","newListener","verboseMemoryLeak","listenerTree","logPossibleMemoryLeak$$module$$src$lib$base$eventemitter2","logPossibleMemoryLeak","count","console","error","errorMsg","trace","EventEmitter$$module$$src$lib$base$eventemitter2","EventEmitter","EventEmitter2","searchListenerTree$$module$$src$lib$base$eventemitter2","searchListenerTree","tree","listeners","branch","xTree","isolatedBranch","endReached","typeLength","currentType","nextType","_listeners","leaf","len","hasOwnProperty","concat","xxTree","setMaxListeners","EventEmitter$$module$$src$lib$base$eventemitter2.prototype.setMaxListeners","n","event","once","EventEmitter$$module$$src$lib$base$eventemitter2.prototype.once","fn","many","EventEmitter$$module$$src$lib$base$eventemitter2.prototype.many","ttl","listener","self","off","apply","arguments","_origin","on","emit","EventEmitter$$module$$src$lib$base$eventemitter2.prototype.emit","var_args","al","args","l","handler","_all","slice","j","ns","emitAsync","EventEmitter$$module$$src$lib$base$eventemitter2.prototype.emitAsync","Promise","resolve","promises","reject","all","EventEmitter$$module$$src$lib$base$eventemitter2.prototype.on","onAny","warned","EventEmitter$$module$$src$lib$base$eventemitter2.prototype.onAny","addListener","EventEmitter$$module$$src$lib$base$eventemitter2.prototype.off","recursivelyGarbageCollect","root","key","Function","leafs","iLeaf","position","splice","offAny","EventEmitter$$module$$src$lib$base$eventemitter2.prototype.offAny","fns","removeListener","removeAllListeners","EventEmitter$$module$$src$lib$base$eventemitter2.prototype.removeAllListeners","EventEmitter$$module$$src$lib$base$eventemitter2.prototype.listeners","listenerCount","EventEmitter$$module$$src$lib$base$eventemitter2.prototype.listenerCount","listenersAny","EventEmitter$$module$$src$lib$base$eventemitter2.prototype.listenersAny","module$$src$lib$base$eventemitter2","Component","Infinity","id_","template_","element_","tagRegex","template","replace","$$","querySelectorAll","$","querySelector","render","opt_base","opt_index","insertBefore","children","dispose","getElementById","module$$src$lib$base$component","View","rendered","opt_rootEl","onBeforeRender","style","zIndex","onAfterRender","onActivation","className","classDefinition","template_content","supportsBackGesture","hasSidebar","bodyStyle","getComputedStyle","WIDTH","parseInt","width","View$$module$$src$lib$view.WIDTH","module$$src$lib$view","ViewManager","history","lastTouches","state","State","DEFAULT","rootEl","currentView","initTouchEvents_","firstX","hideSidebarTimeout","getLastViewInHistory","pull","view","opt_canGoBack","topIndex","setCurrentView","transitionDuration","transform","removeEventListener","setTimeout","historicView","canGoBack","lastView","pop","requestAnimationFrame","opt_noDispose","translation","SIDEBAR_OPEN","toggleSidebar_","toggleSidebar","onTouchMove_","onTouchEnd_","clientX","clearTimeout","STARTED_GESTURE","GOING_TO_BACK_VIEW","OPENING_SIDEBAR","CLOSING_SIDEBAR","backGestureTouchMove_","closeSidebarTouchMove_","openSidebarTouchMove_","backGestureTouchEnd_","duration","currentViewX","lastViewX","preventDefault","currentViewDiff","viewWidth","lastViewDiff","boxShadow","sidebar","sidebarX","sidebarZ","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","module$$src$lib$view_manager","dictionaries_","dictionary_","setDictionary$$module$$src$lib$locale","lang","dict","setDictionary","setLanguage$$module$$src$lib$locale","setLanguage","getLocalizedString$$module$$src$lib$locale","text","number","getLocalizedString","module$$src$lib$locale","__","Sidebar","vm","onSidebarItemTap","SWITCH_VIEW","template_items","mappings","ITEM","module$$src$components$sidebar$sidebar","TabBar","views","TabBar$$module$$src$components$tabbar$tabbar.WIDTH","onItemTap","activeItem","ACTIVE","items","ITEMS","itemIndex","indexOf","activateItem","deactivateActiveItem","item","classList","add","activateItemByName","remove","template_views","module$$src$components$tabbar$tabbar","NavBar","opt_config","hasBackButton","hasMenuButton","title","config","onBackButtonTap","onMenuButtonTap","menuButtonHandler","backButton","menuButton","BACK_BUTTON","MENU_BUTTON","module$$src$components$navbar$navbar","P2RComponentModel","reset","state_","triggerShouldCheckState","REFRESHING","SHOULD_CHECK","shouldCheck","refresh","SHOULD_REFRESH","module$$src$components$pull_to_refresh$pull_to_refresh_model","PullToRefresh","model","releaseListener_","scrollListener_","containerEl","scrollEl","register","bindModelEvents","onShouldRefresh","spinner","SPINNER","arrow","ARROW","height","transition","visibility","parentElement","onScroll_","onRelease_","checkShouldRefresh","rot","scroll","scrollTop","pos","arrowOffset","pow","rotationThreshold","threshold","min","module$$src$components$pull_to_refresh$pull_to_refresh","InfiniteScrollModel","LOADING","load","SHOULD_LOAD","module$$src$components$infinite_scroll$infinite_scroll_model","$jscompDefaultExport$$module$$src$lib$throttle","threshhold","scope","last","deferTimer","now","InfiniteScroll","endOfListText","throttle","module$$src$lib$throttle","checkShouldLoadMore_","onShouldLoad","scrollHeight","offsetHeight","showSpinner","innerText","showEndOfList","module$$src$components$infinite_scroll$infinite_scroll","erste","locale","window.erste"],"mappings":"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","file":"erste.min.js","sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,"// Copyright 2006 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Bootstrap for the Google JS Library (Closure).\n *\n * In uncompiled mode base.js will write out Closure's deps file, unless the\n * global <code>CLOSURE_NO_DEPS</code> is set to true.  This allows projects to\n * include their own deps file(s) from different locations.\n *\n * @author arv@google.com (Erik Arvidsson)\n *\n * @provideGoog\n */\n\n\n/**\n * @define {boolean} Overridden to true by the compiler when\n *     --process_closure_primitives is specified.\n */\nvar COMPILED = false;\n\n\n/**\n * Base namespace for the Closure library.  Checks to see goog is already\n * defined in the current scope before assigning to prevent clobbering if\n * base.js is loaded more than once.\n *\n * @const\n */\nvar goog = goog || {};\n\n\n/**\n * Reference to the global context.  In most cases this will be 'window'.\n */\ngoog.global = this;\n\n/**\n * A hook for overriding the define values in uncompiled mode.\n *\n * In uncompiled mode, {@code CLOSURE_UNCOMPILED_DEFINES} may be defined before\n * loading base.js.  If a key is defined in {@code CLOSURE_UNCOMPILED_DEFINES},\n * {@code goog.define} will use the value instead of the default value.  This\n * allows flags to be overwritten without compilation (this is normally\n * accomplished with the compiler's \"define\" flag).\n *\n * Example:\n * <pre>\n *   var CLOSURE_UNCOMPILED_DEFINES = {'goog.DEBUG': false};\n * </pre>\n *\n * @type {?Object<string, (string|number|boolean)>|undefined}\n */\ngoog.global.CLOSURE_UNCOMPILED_DEFINES;\n\n\n/**\n * A hook for overriding the define values in uncompiled or compiled mode,\n * like CLOSURE_UNCOMPILED_DEFINES but effective in compiled code.  In\n * uncompiled code CLOSURE_UNCOMPILED_DEFINES takes precedence.\n *\n * Also unlike CLOSURE_UNCOMPILED_DEFINES the values must be number, boolean or\n * string literals or the compiler will emit an error.\n *\n * While any @define value may be set, only those set with goog.define will be\n * effective for uncompiled code.\n *\n * Example:\n * <pre>\n *   var CLOSURE_DEFINES = {'goog.DEBUG': false} ;\n * </pre>\n *\n * @type {?Object<string, (string|number|boolean)>|undefined}\n */\ngoog.global.CLOSURE_DEFINES;\n\n\n/**\n * Returns true if the specified value is not undefined.\n * WARNING: Do not use this to test if an object has a property. Use the in\n * operator instead.\n *\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is defined.\n */\ngoog.isDef = function(val) {\n    // void 0 always evaluates to undefined and hence we do not need to depend on\n    // the definition of the global variable named 'undefined'.\n    return val !== void 0;\n};\n\n\n/**\n * Builds an object structure for the provided namespace path, ensuring that\n * names that already exist are not overwritten. For example:\n * \"a.b.c\" -> a = {};a.b={};a.b.c={};\n * Used by goog.provide and goog.exportSymbol.\n * @param {string} name name of the object that this file defines.\n * @param {*=} opt_object the object to expose at the end of the path.\n * @param {?Object=} opt_objectToExportTo The object to add the path to; default\n *     is |goog.global|.\n * @private\n */\ngoog.exportPath_ = function(name, opt_object, opt_objectToExportTo) {\n    var parts = name.split('.');\n    var cur = opt_objectToExportTo || goog.global;\n\n    // Internet Explorer exhibits strange behavior when throwing errors from\n    // methods externed in this manner.  See the testExportSymbolExceptions in\n    // base_test.html for an example.\n    if (!(parts[0] in cur) && cur.execScript) {\n        cur.execScript('var ' + parts[0]);\n    }\n\n    // Certain browsers cannot parse code in the form for((a in b); c;);\n    // This pattern is produced by the JSCompiler when it collapses the\n    // statement above into the conditional loop below. To prevent this from\n    // happening, use a for-loop and reserve the init logic as below.\n\n    // Parentheses added to eliminate strict JS warning in Firefox.\n    for (var part; parts.length && (part = parts.shift());) {\n        if (!parts.length && goog.isDef(opt_object)) {\n            // last part and we have an object; use it\n            cur[part] = opt_object;\n        } else if (cur[part]) {\n            cur = cur[part];\n        } else {\n            cur = cur[part] = {};\n        }\n    }\n};\n\n\n/**\n * Defines a named value. In uncompiled mode, the value is retrieved from\n * CLOSURE_DEFINES or CLOSURE_UNCOMPILED_DEFINES if the object is defined and\n * has the property specified, and otherwise used the defined defaultValue.\n * When compiled the default can be overridden using the compiler\n * options or the value set in the CLOSURE_DEFINES object.\n *\n * @param {string} name The distinguished name to provide.\n * @param {string|number|boolean} defaultValue\n */\ngoog.define = function(name, defaultValue) {\n    var value = defaultValue;\n    if (!COMPILED) {\n        if (goog.global.CLOSURE_UNCOMPILED_DEFINES &&\n            Object.prototype.hasOwnProperty.call(\n                goog.global.CLOSURE_UNCOMPILED_DEFINES, name)) {\n            value = goog.global.CLOSURE_UNCOMPILED_DEFINES[name];\n        } else if (\n            goog.global.CLOSURE_DEFINES &&\n            Object.prototype.hasOwnProperty.call(\n                goog.global.CLOSURE_DEFINES, name)) {\n            value = goog.global.CLOSURE_DEFINES[name];\n        }\n    }\n    goog.exportPath_(name, value);\n};\n\n\n/**\n * @define {boolean} DEBUG is provided as a convenience so that debugging code\n * that should not be included in a production js_binary can be easily stripped\n * by specifying --define goog.DEBUG=false to the JSCompiler. For example, most\n * toString() methods should be declared inside an \"if (goog.DEBUG)\" conditional\n * because they are generally used for debugging purposes and it is difficult\n * for the JSCompiler to statically determine whether they are used.\n */\ngoog.define('goog.DEBUG', true);\n\n\n/**\n * When defining a class Foo with an abstract method bar(), you can do:\n * Foo.prototype.bar = goog.abstractMethod\n *\n * Now if a subclass of Foo fails to override bar(), an error will be thrown\n * when bar() is invoked.\n *\n * Note: This does not take the name of the function to override as an argument\n * because that would make it more difficult to obfuscate our JavaScript code.\n *\n * @type {!Function}\n * @throws {Error} when invoked to indicate the method should be overridden.\n */\ngoog.abstractMethod = function() {\n    throw Error('unimplemented abstract method');\n};\n\n\n/**\n * Adds a {@code getInstance} static method that always returns the same\n * instance object.\n * @param {!Function} ctor The constructor for the class to add the static\n *     method to.\n */\ngoog.addSingletonGetter = function(ctor) {\n    ctor.getInstance = function() {\n        if (ctor.instance_) {\n            return ctor.instance_;\n        }\n        if (goog.DEBUG) {\n            // NOTE: JSCompiler can't optimize away Array#push.\n            goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = ctor;\n        }\n        return ctor.instance_ = new ctor;\n    };\n};\n\n\n/**\n * All singleton classes that have been instantiated, for testing. Don't read\n * it directly, use the {@code goog.testing.singleton} module. The compiler\n * removes this variable if unused.\n * @type {!Array<!Function>}\n * @private\n */\ngoog.instantiatedSingletons_ = [];\n\n\n/**\n * Returns true if the specified value is a string.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is a string.\n */\ngoog.isString = function(val) {\n    return typeof val == 'string';\n};\n\n\n/**\n * Returns true if the specified value is an object.  This includes arrays and\n * functions.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is an object.\n */\ngoog.isObject = function(val) {\n    var type = typeof val;\n    return type == 'object' && val != null || type == 'function';\n    // return Object(val) === val also works, but is slower, especially if val is\n    // not an object.\n};\n\n\n/**\n * Gets a unique ID for an object. This mutates the object so that further calls\n * with the same object as a parameter returns the same value. The unique ID is\n * guaranteed to be unique across the current session amongst objects that are\n * passed into {@code getUid}. There is no guarantee that the ID is unique or\n * consistent across sessions. It is unsafe to generate unique ID for function\n * prototypes.\n *\n * @param {!Object} obj The object to get the unique ID for.\n * @return {number} The unique ID for the object.\n */\ngoog.getUid = function(obj) {\n    // TODO(arv): Make the type stricter, do not accept null.\n\n    // In Opera window.hasOwnProperty exists but always returns false so we avoid\n    // using it. As a consequence the unique ID generated for BaseClass.prototype\n    // and SubClass.prototype will be the same.\n    return obj[goog.UID_PROPERTY_] ||\n        (obj[goog.UID_PROPERTY_] = ++goog.uidCounter_);\n};\n\n\n/**\n * Whether the given object is already assigned a unique ID.\n *\n * This does not modify the object.\n *\n * @param {!Object} obj The object to check.\n * @return {boolean} Whether there is an assigned unique id for the object.\n */\ngoog.hasUid = function(obj) {\n    return !!obj[goog.UID_PROPERTY_];\n};\n\n\n/**\n * Removes the unique ID from an object. This is useful if the object was\n * previously mutated using {@code goog.getUid} in which case the mutation is\n * undone.\n * @param {!Object} obj The object to remove the unique ID field from.\n */\ngoog.removeUid = function(obj) {\n    // TODO(arv): Make the type stricter, do not accept null.\n\n    // In IE, DOM nodes are not instances of Object and throw an exception if we\n    // try to delete.  Instead we try to use removeAttribute.\n    if (obj !== null && 'removeAttribute' in obj) {\n        obj.removeAttribute(goog.UID_PROPERTY_);\n    }\n    /** @preserveTry */\n    try {\n        delete obj[goog.UID_PROPERTY_];\n    } catch (ex) {\n    }\n};\n\n\n/**\n * Name for unique ID property. Initialized in a way to help avoid collisions\n * with other closure JavaScript on the same page.\n * @type {string}\n * @private\n */\ngoog.UID_PROPERTY_ = 'closure_uid_' + ((Math.random() * 1e9) >>> 0);\n\n\n/**\n * Counter for UID.\n * @type {number}\n * @private\n */\ngoog.uidCounter_ = 0;\n\n\n/**\n * Exposes an unobfuscated global namespace path for the given object.\n * Note that fields of the exported object *will* be obfuscated, unless they are\n * exported in turn via this function or goog.exportProperty.\n *\n * Also handy for making public items that are defined in anonymous closures.\n *\n * ex. goog.exportSymbol('public.path.Foo', Foo);\n *\n * ex. goog.exportSymbol('public.path.Foo.staticFunction', Foo.staticFunction);\n *     public.path.Foo.staticFunction();\n *\n * ex. goog.exportSymbol('public.path.Foo.prototype.myMethod',\n *                       Foo.prototype.myMethod);\n *     new public.path.Foo().myMethod();\n *\n * @param {string} publicPath Unobfuscated name to export.\n * @param {*} object Object the name should point to.\n * @param {?Object=} opt_objectToExportTo The object to add the path to; default\n *     is goog.global.\n */\ngoog.exportSymbol = function(publicPath, object, opt_objectToExportTo) {\n  goog.exportPath_(publicPath, object, opt_objectToExportTo);\n};\n\n\n/**\n * Exports a property unobfuscated into the object's namespace.\n * ex. goog.exportProperty(Foo, 'staticFunction', Foo.staticFunction);\n * ex. goog.exportProperty(Foo.prototype, 'myMethod', Foo.prototype.myMethod);\n * @param {!Object} object Object whose static property is being exported.\n * @param {string} publicName Unobfuscated name to export.\n * @param {*} symbol Object the name should point to.\n */\ngoog.exportProperty = function(object, publicName, symbol) {\n  object[publicName] = symbol;\n};\n","/**!\n * Adapted from Google Closure Library, math.js\n *\n *\n * Copyright 2006 The Closure Library Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n/**\n * The % operator in JavaScript returns the remainder of a / b, but differs from\n * some other languages in that the result will have the same sign as the\n * dividend. For example, -1 % 8 == -1, whereas in some other languages\n * (such as Python) the result would be 7. This function emulates the more\n * correct modulo behavior, which is useful for certain applications such as\n * calculating an offset index in a circular list.\n *\n * @param {number} a The dividend.\n * @param {number} b The divisor.\n * @return {number} a % b where the result is between 0 and b (either 0 <= x < b\n *     or b < x <= 0, depending on the sign of b).\n */\nconst modulo = (a, b) => {\n    var r = a % b;\n    // If r and b differ in sign, add b to wrap the result to the correct sign.\n    return (r * b < 0) ? r + b : r;\n};\n\n/**\n * Converts radians to degrees.\n * @param {number} angleRadians Angle in radians.\n * @return {number} Angle in degrees.\n */\nconst toDegrees = angleRadians => {\n    return angleRadians * 180 / Math.PI;\n};\n\n/**\n * Normalizes an angle to be in range [0-360). Angles outside this range will\n * be normalized to be the equivalent angle with that range.\n * @param {number} angle Angle in degrees.\n * @return {number} Standardized angle.\n */\nconst standardAngle = angle => modulo(angle, 360);\n\n/**\n * Computes the angle between two points (x1,y1) and (x2,y2).\n * Angle zero points in the +X direction, 90 degrees points in the +Y\n * direction (down) and from there we grow clockwise towards 360 degrees.\n * @param {number} x1 x of first point.\n * @param {number} y1 y of first point.\n * @param {number} x2 x of second point.\n * @param {number} y2 y of second point.\n * @return {number} Standardized angle in degrees of the vector from\n *     x1,y1 to x2,y2.\n */\nconst angle = (x1, y1, x2, y2) => {\n    return standardAngle(toDegrees(Math.atan2(y2 - y1, x2 - x1)));\n};\n\n/**\n * Calculates distance between two points given 4 points.\n * @param {number} x1 X value of the first point\n * @param {number} y1 Y value of the first point\n * @param {number} x2 X value of the second point\n * @param {number} y2 Y value of the second point\n * @return {number} Distance between two points\n */\nconst distance = (x1, y1, x2, y2) => (x1 - x2) ** 2 + (y1 - y2) ** 2;\n\n\n/**\n * Performs linear interpolation between values a and b. Returns the value\n * between a and b proportional to x (when x is between 0 and 1. When x is\n * outside this range, the return value is a linear extrapolation).\n * @param {number} a A number.\n * @param {number} b A number.\n * @param {number} x The proportion between a and b.\n * @return {number} The interpolated value between a and b.\n */\nconst lerp = (a, b, x) => {\n  return a + x * (b - a);\n};\n\nexport default {\n    angle: angle,\n    distance: distance,\n    lerp: lerp\n}\n","/**\n * @fileoverview GestureHandler adds the ability to capture gesture events on\n * touch enabled devices.\n * It listens to 'touchstart', 'touchmove' and 'touchend' events and generates\n * 'tap' or 'swipe' events with inherent heuristics.\n *\n * Currently, the tap algorithm begins with a touchstart, checks for touchend.\n * Any touchmove greater than 3px cancels the tap event, and if a touchend is\n * captured without a touchmove after a touchstart; it's registered as a tap,\n * and the GestureHandler dispatches a tap event on the touchend target.\n *\n * Swipe up, left, right and down gestures are also supported.\n *\n * Example usage:\n *\n *     document.body.addEventListener('tap', function() {\n *         console.log('tapped!');\n *     });\n */\n\nimport math from './math';\n\n/**\n * iOS 6.0(+?) requires the target element to be manually derived.\n * @type {?boolean}\n */\nconst deviceIsIOSWithBadTarget = navigator.userAgent.match(/iPhone/i) &&\n    (/OS ([6-9]|\\d{2})_\\d/).test(navigator.userAgent);\n\nconst EventType = {\n    TAP: 'tap',\n    LONG_TAP: 'longTap',\n    SWIPE_RIGHT: 'swipeRight',\n    SWIPE_UP: 'swipeUp',\n    SWIPE_LEFT: 'swipeLeft',\n    SWIPE_DOWN: 'swipeDown'\n}\n\nexport default class GestureHandler {\n    /**\n     * Tracks and fires gestures on touch enabled devices.\n     *\n     * @param {!Element=} opt_el Provided, gesture handler will track gesture\n     *                           events on this element. The default\n     *                           value is document.body; but an optional\n     *                           root element is inevitable for iframe's.\n     */\n    constructor(opt_el) {\n        this.el = opt_el || document.body;\n\n        this.isInMotion = false;\n        this.canTap = false;\n        this.canSwipe = false;\n\n        /**\n         * @type {number} Start time of the first touch in milliseconds since 1970\n         */\n        this.touchStartTime = 0;\n\n        /**\n         * @type {!Array.<number>} Touch list whose first element is the time of the first touch\n         */\n        this.touches = [];\n\n        this.el.addEventListener('touchstart', this.onTouchstart.bind(this), false);\n        this.el.addEventListener('touchmove', this.onTouchmove.bind(this), false);\n        this.el.addEventListener('touchend', this.onTouchend.bind(this), false);\n    }\n\n    onTouchstart(e) {\n        this.isInMotion = true;\n        this.canTap = true;\n        this.canSwipe = true;\n        this.touchStartTime = new Date().getTime();\n\n        var changedTouch = e.changedTouches[0];\n\n        this.touches = [e.timeStamp, changedTouch.pageX, changedTouch.pageY];\n    }\n\n    onTouchmove(e) {\n        var touches = this.touches,\n            changedTouch = e.changedTouches[0];\n\n        if (Math.abs(changedTouch.pageX - touches[1]) > 20 ||\n            Math.abs(changedTouch.pageY - touches[2]) > 20)\n            this.canTap = false;\n\n        if (!this.canSwipe) return;\n\n        touches.push(e.timeStamp, changedTouch.pageX, changedTouch.pageY);\n        if (+new Date() > touches[0] + 100) {\n            this.canSwipe = false;\n            return;\n        }\n\n        // Filter the touches\n        var date = e.timeStamp;\n        touches = touches.filter((touch, index, arr) => {\n            var relatedTimeStamp = arr[index - (index % 3)];\n            return relatedTimeStamp > date - 250;\n        });\n\n        if ((touches.length / 3) <= 1) return;\n\n        var distance = math.distance(touches[1], touches[2], touches[touches.length - 2], touches[touches.length - 1]);\n        if (distance < 60) return;\n\n        // calculate angle.\n        var angle = math.angle(touches[1], touches[2], touches[touches.length - 2], touches[touches.length - 1]);\n\n        var eventType = EventType.SWIPE_RIGHT;\n        if (angle > 45 && angle < 135) {\n            eventType = EventType.SWIPE_DOWN;\n        }\n        else if (angle > 135 && angle < 225) {\n            eventType = EventType.SWIPE_LEFT;\n        }\n        else if (angle > 225 && angle < 315) {\n            eventType = EventType.SWIPE_UP;\n        }\n\n        var swipe = document.createEvent(\"Event\");\n        swipe && swipe.initEvent(eventType, true, true);\n        e.target.dispatchEvent(swipe);\n\n        this.canSwipe = false;\n\n    }\n\n    onTouchend(e) {\n        this.isInMotion = false;\n\n        if (!this.canTap) return;\n\n        var touches = this.touches,\n            changedTouch = e.changedTouches[0];\n\n        if (Math.abs(changedTouch.pageX - touches[1]) > 20 ||\n            Math.abs(changedTouch.pageY - touches[2]) > 20) {\n            this.canTap = false;\n            return;\n        }\n\n        var tapTimeDiff = new Date().getTime() - this.touchStartTime;\n        var tap = document.createEvent('Event');\n        var eventName = tapTimeDiff > 800 ? EventType.LONG_TAP : EventType.TAP;\n        tap && tap.initEvent(eventName, true, true);\n        tap && (tap.target = e.target);\n\n        // Target element fix for iOS6+\n        var targetElement = e.target;\n\n        if (deviceIsIOSWithBadTarget)\n            targetElement = document.elementFromPoint(changedTouch.pageX - window.pageXOffset,\n                changedTouch.pageY - window.pageYOffset);\n\n        targetElement.dispatchEvent(tap);\n    }\n}\n","let counter = Math.floor(Math.random() * 2147483648);\n\n/**\n * Returns a unique identifier string, which is an auto-incremented\n * base-36 counter.\n *\n * @return {string}\n */\nconst getUid = () => (counter++).toString(36);\n\nexport default getUid;\n","import GestureHandler from './gesture-handler';\nimport getUid from './uid';\n\nconst componentRegistry = {};\n\nlet gestureHandler;\n\nconst events = [\n    'click',\n    'mouseover',\n    'mouseout',\n    'mousemove',\n    'mousedown',\n    'mouseup',\n    'scroll',\n    'keyup',\n    'keypress',\n    'focus',\n    'touchstart',\n    'touchmove',\n    'touchend',\n    'tap',\n    'longtap',\n    'doubletap',\n    'press',\n    'pan',\n    'swipe',\n    'swipeTop',\n    'swipeRight',\n    'swipeBottom',\n    'swipeLeft'\n];\n\nconst onLoad = () => {\n    events.forEach(type => document.body.addEventListener(type, handleEvent));\n\n    gestureHandler = new GestureHandler();\n}\n\nif (document.readyState === \"complete\") onLoad();\nelse document.addEventListener('DOMContentLoaded', onLoad);\n\nconst createElement = (() => {\n    const tempDiv = document.createElement('div');\n\n    return htmlString => {\n        tempDiv.innerHTML = htmlString.trim();\n        return tempDiv.removeChild(tempDiv.firstChild);\n    };\n})();\n\nconst getParentComps = child => {\n    let node = child, parentComps = [], comp, ids;\n\n    if (ids = node.getAttribute && node.getAttribute('data-comp')) {\n        ids.split(',').forEach(id => parentComps.push(componentRegistry[id]));\n\n        return parentComps;\n    }\n\n    ids = [];\n\n    do {\n        if (comp = componentRegistry[node.id]) {\n            parentComps.push(comp);\n            ids.push(node.id);\n        }\n    } while (node = node.parentNode);\n\n    child.setAttribute('data-comp', ids.join(','));\n    return parentComps;\n}\n\nconst handleEvent = e => {\n    e.targetEl = e.target;\n\n    let comps = getParentComps(e.target),\n        broken = false;\n\n    do {\n        if (broken) break;\n\n        broken = callHandlers(comps, e);\n    } while ((e.targetEl = e.targetEl.parentNode) && (e.targetEl != document.body));\n}\n\n/**\n * Given a list of componentsRegistry, checks whether any component would\n * respond to the given event and if so, executes the event handler\n * defined in the component.\n */\nconst callHandlers = (comps, e) => {\n    let broken = false;\n\n    for (let i = 0; i < comps.length; i++) {\n        let comp = comps[i];\n        let handlers = comp && comp.events && comp.events[e.type];\n\n        if (!handlers) continue;\n\n        let selectors = Object.keys(handlers);\n\n        if (callHandler(comp, e, handlers, selectors) === false) {\n            broken = true;\n            break;\n        }\n    }\n\n    return broken;\n}\n\nconst callHandler = (comp, e, handlers, selectors) => {\n    let rv = true;\n\n    selectors.forEach(selector => {\n        if (e.targetEl.matches && e.targetEl.matches(selector)) {\n            let targetComponent = getComponent(e.targetEl.id);\n\n            rv = handlers[selector].call(comp, e, targetComponent);\n        }\n    });\n\n    return rv;\n}\n\nconst getComponent = id => {\n    return componentRegistry[id];\n}\n\nconst setComponent = comp => {\n    componentRegistry[comp.id] = comp;\n}\n\nconst removeComponent = comp => {\n    delete componentRegistry[comp.id];\n}\n\nexport default {\n    getUid: getUid,\n    getComponent: getComponent,\n    setComponent: setComponent,\n    removeComponent: removeComponent,\n    createElement: createElement,\n    get gestureHandler() {\n        return gestureHandler;\n    }\n}\n","/*!\n * EventEmitter2\n * https://github.com/hij1nx/EventEmitter2\n *\n * Copyright (c) 2013 hij1nx\n * Licensed under the MIT license.\n */\n\n  var isArray = Array.isArray ? Array.isArray : function _isArray(obj) {\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\n  };\n  var defaultMaxListeners = 10;\n\n  /**\n   * @this {EventEmitter}\n   */\n  function init() {\n    this._events = {};\n    if (this._conf) {\n      configure.call(this, this._conf);\n    }\n  }\n\n  /**\n   * @this {EventEmitter}\n   */\n  function configure(conf) {\n    if (conf) {\n      this._conf = conf;\n\n      conf.delimiter && (this.delimiter = conf.delimiter);\n      this._events.maxListeners = conf.maxListeners !== undefined ? conf.maxListeners : defaultMaxListeners;\n      conf.wildcard && (this.wildcard = conf.wildcard);\n      conf.newListener && (this._events.newListener = conf.newListener);\n      conf.verboseMemoryLeak && (this.verboseMemoryLeak = conf.verboseMemoryLeak);\n\n      if (this.wildcard) {\n        this.listenerTree = {};\n      }\n    } else {\n      this._events.maxListeners = defaultMaxListeners;\n    }\n  }\n\n  /**\n   * @this {EventEmitter}\n   */\n  function logPossibleMemoryLeak(count, eventName) {\n    var errorMsg = '(node) warning: possible EventEmitter memory ' +\n        'leak detected. %d listeners added. ' +\n        'Use emitter.setMaxListeners() to increase limit.';\n\n    if(this.verboseMemoryLeak){\n      errorMsg += ' Event name: %s.';\n      console.error(errorMsg, count, eventName);\n    } else {\n      console.error(errorMsg, count);\n    }\n\n    if (console.trace){\n      console.trace();\n    }\n  }\n\n  /**\n   * @constructor\n   */\n  export default function EventEmitter(conf) {\n    this._events = {};\n    this.newListener = false;\n    this.verboseMemoryLeak = false;\n    configure.call(this, conf);\n  }\n  EventEmitter.EventEmitter2 = EventEmitter; // backwards compatibility for exporting EventEmitter property\n\n  //\n  // Attention, function return type now is array, always !\n  // It has zero elements if no any matches found and one or more\n  // elements (leafs) if there are matches\n  //\n  function searchListenerTree(handlers, type, tree, i) {\n    if (!tree) {\n      return [];\n    }\n    var listeners=[], leaf, len, branch, xTree, xxTree, isolatedBranch, endReached,\n        typeLength = type.length, currentType = type[i], nextType = type[i+1];\n    if (i === typeLength && tree._listeners) {\n      //\n      // If at the end of the event(s) list and the tree has listeners\n      // invoke those listeners.\n      //\n      if (typeof tree._listeners === 'function') {\n        handlers && handlers.push(tree._listeners);\n        return [tree];\n      } else {\n        for (leaf = 0, len = tree._listeners.length; leaf < len; leaf++) {\n          handlers && handlers.push(tree._listeners[leaf]);\n        }\n        return [tree];\n      }\n    }\n\n    if ((currentType === '*' || currentType === '**') || tree[currentType]) {\n      //\n      // If the event emitted is '*' at this part\n      // or there is a concrete match at this patch\n      //\n      if (currentType === '*') {\n        for (branch in tree) {\n          if (branch !== '_listeners' && tree.hasOwnProperty(branch)) {\n            listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i+1));\n          }\n        }\n        return listeners;\n      } else if(currentType === '**') {\n        endReached = (i+1 === typeLength || (i+2 === typeLength && nextType === '*'));\n        if(endReached && tree._listeners) {\n          // The next element has a _listeners, add it to the handlers.\n          listeners = listeners.concat(searchListenerTree(handlers, type, tree, typeLength));\n        }\n\n        for (branch in tree) {\n          if (branch !== '_listeners' && tree.hasOwnProperty(branch)) {\n            if(branch === '*' || branch === '**') {\n              if(tree[branch]._listeners && !endReached) {\n                listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], typeLength));\n              }\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i));\n            } else if(branch === nextType) {\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i+2));\n            } else {\n              // No match on this one, shift into the tree but not in the type array.\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i));\n            }\n          }\n        }\n        return listeners;\n      }\n\n      listeners = listeners.concat(searchListenerTree(handlers, type, tree[currentType], i+1));\n    }\n\n    xTree = tree['*'];\n    if (xTree) {\n      //\n      // If the listener tree will allow any match for this part,\n      // then recursively explore all branches of the tree\n      //\n      searchListenerTree(handlers, type, xTree, i+1);\n    }\n\n    xxTree = tree['**'];\n    if(xxTree) {\n      if(i < typeLength) {\n        if(xxTree._listeners) {\n          // If we have a listener on a '**', it will catch all, so add its handler.\n          searchListenerTree(handlers, type, xxTree, typeLength);\n        }\n\n        // Build arrays of matching next branches and others.\n        for(branch in xxTree) {\n          if(branch !== '_listeners' && xxTree.hasOwnProperty(branch)) {\n            if(branch === nextType) {\n              // We know the next element will match, so jump twice.\n              searchListenerTree(handlers, type, xxTree[branch], i+2);\n            } else if(branch === currentType) {\n              // Current node matches, move into the tree.\n              searchListenerTree(handlers, type, xxTree[branch], i+1);\n            } else {\n              isolatedBranch = {};\n              isolatedBranch[branch] = xxTree[branch];\n              searchListenerTree(handlers, type, { '**': isolatedBranch }, i+1);\n            }\n          }\n        }\n      } else if(xxTree._listeners) {\n        // We have reached the end and still on a '**'\n        searchListenerTree(handlers, type, xxTree, typeLength);\n      } else if(xxTree['*'] && xxTree['*']._listeners) {\n        searchListenerTree(handlers, type, xxTree['*'], typeLength);\n      }\n    }\n\n    return listeners;\n  }\n\n  /**\n   * @this {EventEmitter}\n   */\n  function growListenerTree(type, listener) {\n\n    type = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n\n    //\n    // Looks for two consecutive '**', if so, don't add the event at all.\n    //\n    for(var i = 0, len = type.length; i+1 < len; i++) {\n      if(type[i] === '**' && type[i+1] === '**') {\n        return;\n      }\n    }\n\n    var tree = this.listenerTree;\n    var name = type.shift();\n\n    while (name !== undefined) {\n\n      if (!tree[name]) {\n        tree[name] = {};\n      }\n\n      tree = tree[name];\n\n      if (type.length === 0) {\n\n        if (!tree._listeners) {\n          tree._listeners = listener;\n        }\n        else {\n          if (typeof tree._listeners === 'function') {\n            tree._listeners = [tree._listeners];\n          }\n\n          tree._listeners.push(listener);\n\n          if (\n            !tree._listeners.warned &&\n            this._events.maxListeners > 0 &&\n            tree._listeners.length > this._events.maxListeners\n          ) {\n            tree._listeners.warned = true;\n            logPossibleMemoryLeak.call(this, tree._listeners.length, name);\n          }\n        }\n        return true;\n      }\n      name = type.shift();\n    }\n    return true;\n  }\n\n  // By default EventEmitters will print a warning if more than\n  // 10 listeners are added to it. This is a useful default which\n  // helps finding memory leaks.\n  //\n  // Obviously not all Emitters should be limited to 10. This function allows\n  // that to be increased. Set to zero for unlimited.\n\n  /**\n   * @export\n   */\n  EventEmitter.prototype.delimiter = '.';\n\n  /**\n   * @export\n   */\n  EventEmitter.prototype.setMaxListeners = function(n) {\n    if (n !== undefined) {\n      this._events || init.call(this);\n      this._events.maxListeners = n;\n      if (!this._conf) this._conf = {};\n      this._conf.maxListeners = n;\n    }\n  };\n\n  /**\n   * @export\n   */\n  EventEmitter.prototype.event = '';\n\n  /**\n   * @export\n   */\n  EventEmitter.prototype.once = function(event, fn) {\n    this.many(event, 1, fn);\n    return this;\n  };\n\n  /**\n   * @export\n   */\n  EventEmitter.prototype.many = function(event, ttl, fn) {\n    var self = this;\n\n    if (typeof fn !== 'function') {\n      throw new Error('many only accepts instances of Function');\n    }\n\n    function listener() {\n      if (--ttl === 0) {\n        self.off(event, listener);\n      }\n      fn.apply(this, arguments);\n    }\n\n    listener._origin = fn;\n\n    this.on(event, listener);\n\n    return self;\n  };\n\n  /**\n   * @param {...} var_args description\n   */\n  EventEmitter.prototype.emit = function(var_args) {\n\n    this._events || init.call(this);\n\n    var type = arguments[0];\n\n    if (type === 'newListener' && !this.newListener) {\n      if (!this._events.newListener) {\n        return false;\n      }\n    }\n\n    var al = arguments.length;\n    var args,l,i,j;\n    var handler;\n\n    if (this._all && this._all.length) {\n      handler = this._all.slice();\n      if (al > 3) {\n        args = new Array(al);\n        for (j = 0; j < al; j++) args[j] = arguments[j];\n      }\n\n      for (i = 0, l = handler.length; i < l; i++) {\n        this.event = type;\n        switch (al) {\n        case 1:\n          handler[i].call(this, type);\n          break;\n        case 2:\n          handler[i].call(this, type, arguments[1]);\n          break;\n        case 3:\n          handler[i].call(this, type, arguments[1], arguments[2]);\n          break;\n        default:\n          handler[i].apply(this, args);\n        }\n      }\n    }\n\n    if (this.wildcard) {\n      handler = [];\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0);\n    } else {\n      handler = this._events[type];\n      if (typeof handler === 'function') {\n        this.event = type;\n        switch (al) {\n        case 1:\n          handler.call(this);\n          break;\n        case 2:\n          handler.call(this, arguments[1]);\n          break;\n        case 3:\n          handler.call(this, arguments[1], arguments[2]);\n          break;\n        default:\n          args = new Array(al - 1);\n          for (j = 1; j < al; j++) args[j - 1] = arguments[j];\n          handler.apply(this, args);\n        }\n        return true;\n      } else if (handler) {\n        // need to make copy of handlers because list can change in the middle\n        // of emit call\n        handler = handler.slice();\n      }\n    }\n\n    if (handler && handler.length) {\n      if (al > 3) {\n        args = new Array(al - 1);\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\n      }\n      for (i = 0, l = handler.length; i < l; i++) {\n        this.event = type;\n        switch (al) {\n        case 1:\n          handler[i].call(this);\n          break;\n        case 2:\n          handler[i].call(this, arguments[1]);\n          break;\n        case 3:\n          handler[i].call(this, arguments[1], arguments[2]);\n          break;\n        default:\n          handler[i].apply(this, args);\n        }\n      }\n      return true;\n    } else if (!this._all && type === 'error') {\n      if (arguments[1] instanceof Error) {\n        throw arguments[1]; // Unhandled 'error' event\n      } else {\n        throw new Error(\"Uncaught, unspecified 'error' event.\");\n      }\n    }\n\n    return !!this._all;\n  };\n\n  /**\n   * @export\n   */\n  EventEmitter.prototype.emitAsync = function() {\n\n    this._events || init.call(this);\n\n    var type = arguments[0];\n\n    if (type === 'newListener' && !this.newListener) {\n        if (!this._events.newListener) { return Promise.resolve([false]); }\n    }\n\n    var promises= [];\n\n    var al = arguments.length;\n    var args,l,i,j;\n    var handler;\n\n    if (this._all) {\n      if (al > 3) {\n        args = new Array(al);\n        for (j = 1; j < al; j++) args[j] = arguments[j];\n      }\n      for (i = 0, l = this._all.length; i < l; i++) {\n        this.event = type;\n        switch (al) {\n        case 1:\n          promises.push(this._all[i].call(this, type));\n          break;\n        case 2:\n          promises.push(this._all[i].call(this, type, arguments[1]));\n          break;\n        case 3:\n          promises.push(this._all[i].call(this, type, arguments[1], arguments[2]));\n          break;\n        default:\n          promises.push(this._all[i].apply(this, args));\n        }\n      }\n    }\n\n    if (this.wildcard) {\n      handler = [];\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0);\n    } else {\n      handler = this._events[type];\n    }\n\n    if (typeof handler === 'function') {\n      this.event = type;\n      switch (al) {\n      case 1:\n        promises.push(handler.call(this));\n        break;\n      case 2:\n        promises.push(handler.call(this, arguments[1]));\n        break;\n      case 3:\n        promises.push(handler.call(this, arguments[1], arguments[2]));\n        break;\n      default:\n        args = new Array(al - 1);\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\n        promises.push(handler.apply(this, args));\n      }\n    } else if (handler && handler.length) {\n      if (al > 3) {\n        args = new Array(al - 1);\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\n      }\n      for (i = 0, l = handler.length; i < l; i++) {\n        this.event = type;\n        switch (al) {\n        case 1:\n          promises.push(handler[i].call(this));\n          break;\n        case 2:\n          promises.push(handler[i].call(this, arguments[1]));\n          break;\n        case 3:\n          promises.push(handler[i].call(this, arguments[1], arguments[2]));\n          break;\n        default:\n          promises.push(handler[i].apply(this, args));\n        }\n      }\n    } else if (!this._all && type === 'error') {\n      if (arguments[1] instanceof Error) {\n        return Promise.reject(arguments[1]); // Unhandled 'error' event\n      } else {\n        return Promise.reject(\"Uncaught, unspecified 'error' event.\");\n      }\n    }\n\n    return Promise.all(promises);\n  };\n\n  /**\n   * @export\n   */\n  EventEmitter.prototype.on = function(type, listener) {\n    if (typeof type === 'function') {\n      this.onAny(type);\n      return this;\n    }\n\n    if (typeof listener !== 'function') {\n      throw new Error('on only accepts instances of Function');\n    }\n    this._events || init.call(this);\n\n    // To avoid recursion in the case that type == \"newListeners\"! Before\n    // adding it to the listeners, first emit \"newListeners\".\n    this.emit('newListener', type, listener);\n\n    if (this.wildcard) {\n      growListenerTree.call(this, type, listener);\n      return this;\n    }\n\n    if (!this._events[type]) {\n      // Optimize the case of one listener. Don't need the extra array object.\n      this._events[type] = listener;\n    }\n    else {\n      if (typeof this._events[type] === 'function') {\n        // Change to array.\n        this._events[type] = [this._events[type]];\n      }\n\n      // If we've already got an array, just append.\n      this._events[type].push(listener);\n\n      // Check for listener leak\n      if (\n        !this._events[type].warned &&\n        this._events.maxListeners > 0 &&\n        this._events[type].length > this._events.maxListeners\n      ) {\n        this._events[type].warned = true;\n        logPossibleMemoryLeak.call(this, this._events[type].length, type);\n      }\n    }\n\n    return this;\n  };\n\n  /**\n   * @export\n   */\n  EventEmitter.prototype.onAny = function(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('onAny only accepts instances of Function');\n    }\n\n    if (!this._all) {\n      this._all = [];\n    }\n\n    // Add the function to the event listener collection.\n    this._all.push(fn);\n    return this;\n  };\n\n  /**\n   * @export\n   */\n  EventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n  /**\n   * @export\n   */\n  EventEmitter.prototype.off = function(type, listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('removeListener only takes instances of Function');\n    }\n\n    var handlers,leafs=[];\n\n    if(this.wildcard) {\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n      leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);\n    }\n    else {\n      // does not use listeners(), so no side effect of creating _events[type]\n      if (!this._events[type]) return this;\n      handlers = this._events[type];\n      leafs.push({_listeners:handlers});\n    }\n\n    for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {\n      var leaf = leafs[iLeaf];\n      handlers = leaf._listeners;\n      if (isArray(handlers)) {\n\n        var position = -1;\n\n        for (var i = 0, length = handlers.length; i < length; i++) {\n          if (handlers[i] === listener ||\n            (handlers[i].listener && handlers[i].listener === listener) ||\n            (handlers[i]._origin && handlers[i]._origin === listener)) {\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0) {\n          continue;\n        }\n\n        if(this.wildcard) {\n          leaf._listeners.splice(position, 1);\n        }\n        else {\n          this._events[type].splice(position, 1);\n        }\n\n        if (handlers.length === 0) {\n          if(this.wildcard) {\n            delete leaf._listeners;\n          }\n          else {\n            delete this._events[type];\n          }\n        }\n\n        this.emit(\"removeListener\", type, listener);\n\n        return this;\n      }\n      else if (handlers === listener ||\n        (handlers.listener && handlers.listener === listener) ||\n        (handlers._origin && handlers._origin === listener)) {\n        if(this.wildcard) {\n          delete leaf._listeners;\n        }\n        else {\n          delete this._events[type];\n        }\n\n        this.emit(\"removeListener\", type, listener);\n      }\n    }\n\n    function recursivelyGarbageCollect(root) {\n      if (root === undefined) {\n        return;\n      }\n      var keys = Object.keys(root);\n      for (var i in keys) {\n        var key = keys[+i];\n        var obj = root[key];\n        if ((obj instanceof Function) || (typeof obj !== \"object\") || (obj === null))\n          continue;\n        if (Object.keys(obj).length > 0) {\n          recursivelyGarbageCollect(root[key]);\n        }\n        if (Object.keys(obj).length === 0) {\n          delete root[key];\n        }\n      }\n    }\n    recursivelyGarbageCollect(this.listenerTree);\n\n    return this;\n  };\n\n  /**\n   * @export\n   *\n   * @param {?Function=} fn Functions to remove\n   */\n  EventEmitter.prototype.offAny = function(fn) {\n    var i = 0, l = 0, fns;\n    if (fn && this._all && this._all.length > 0) {\n      fns = this._all;\n      for(i = 0, l = fns.length; i < l; i++) {\n        if(fn === fns[i]) {\n          fns.splice(i, 1);\n          this.emit(\"removeListenerAny\", fn);\n          return this;\n        }\n      }\n    } else {\n      fns = this._all;\n      for(i = 0, l = fns.length; i < l; i++)\n        this.emit(\"removeListenerAny\", fns[i]);\n      this._all = [];\n    }\n    return this;\n  };\n\n  /**\n   * @export\n   */\n  EventEmitter.prototype.removeListener = EventEmitter.prototype.off;\n\n  /**\n   * @export\n   *\n   * @param {string|!Array.<string>=} type\n   */\n  EventEmitter.prototype.removeAllListeners = function(type) {\n    if (arguments.length === 0) {\n      !this._events || init.call(this);\n      return this;\n    }\n\n    if (this.wildcard) {\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type && type.slice();\n      var leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);\n\n      for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {\n        var leaf = leafs[iLeaf];\n        leaf._listeners = null;\n      }\n    }\n    else if (this._events) {\n      this._events[type] = null;\n    }\n    return this;\n  };\n\n  /**\n   * @export\n   */\n  EventEmitter.prototype.listeners = function(type) {\n    if (this.wildcard) {\n      var handlers = [];\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n      searchListenerTree.call(this, handlers, ns, this.listenerTree, 0);\n      return handlers;\n    }\n\n    this._events || init.call(this);\n\n    if (!this._events[type]) this._events[type] = [];\n    if (!isArray(this._events[type])) {\n      this._events[type] = [this._events[type]];\n    }\n    return this._events[type];\n  };\n\n  /**\n   * @export\n   */\n  EventEmitter.prototype.listenerCount = function(type) {\n    return this.listeners(type).length;\n  };\n\n  /**\n   * @export\n   */\n  EventEmitter.prototype.listenersAny = function() {\n\n    if(this._all) {\n      return this._all;\n    }\n    else {\n      return [];\n    }\n\n  };\n","import ComponentManager from './component-manager';\nimport EventEmitter2 from './eventemitter2';\n\nexport default class Component extends EventEmitter2 {\n    /**\n     * Component is a role that determines your user interface. It defines what\n     * your users see on the page. Component includes a lot of predefined\n     * behaviors, like what happens when a user clicks on a button. Components\n     * are extremely dummy, in that they have no memory, or state, of their\n     * own. They know how to draw a user interface and how to handle user\n     * input; which they delegate to the Representatives.\n     */\n    constructor() {\n        super({\n            maxListeners: Infinity\n        });\n\n        /**\n         * @type {string}\n         *\n         * @private\n         */\n        this.id_ = ComponentManager.getUid();\n\n        /**\n         * @type {?Element}\n         *\n         * @private\n         */\n        this.element_ = null;\n\n        /**\n         * @type {?string}\n         *\n         * @private\n         */\n        this.template_ = null;\n\n        ComponentManager.setComponent(this);\n    }\n\n    /**\n     * @export\n     * @return {string}\n     */\n    get id() {\n        return this.id_;\n    }\n\n    /**\n     * @export\n     * @return {!HTMLElement}\n     */\n    get el() {\n        let rv = this.element_;\n        if (!rv) {\n            rv = this.element_ = document.getElementById(this.id) ||\n                ComponentManager.createElement(this.toString());\n        }\n\n        return rv;\n    }\n\n    /**\n     * @export\n     * @override\n     */\n    toString() {\n        if (this.template_) return this.template_;\n\n        var tagRegex = /^(<[^>]+)/;\n        var template = this.template().trim();\n\n        if (!template.match(tagRegex))\n            throw Error('Template needs to start with a valid tag.');\n\n        template = template\n            .replace(/\\s+/, ' ')\n            .replace(tagRegex, `$1 id=\"${this.id}\"`);\n\n        this.template_ = template;\n\n        return this.template_;\n    }\n\n    /**\n     * @export\n     * @param {string} selector Selector\n     * @return {!Array.<?Element>}\n     */\n    $$(selector) {\n        let rv = [], el = this.el;\n\n        if (el) rv = [...el.querySelectorAll(selector)];\n\n        return rv;\n    }\n\n    /**\n     * @export\n     * @param {string} selector Selector\n     * @return {?Element}\n     */\n    $(selector) {\n        let rv = null, el = this.el;\n\n        if (el) rv = selector == undefined ? el : el.querySelector(selector);\n\n        return rv;\n    }\n\n    /**\n     * @export\n     * @param {!HTMLElement=} opt_base Base element\n     * @param {number=} opt_index Base element\n     */\n    render(opt_base, opt_index) {\n        if (!opt_base) return;\n\n        var child = opt_base.children[opt_index ? opt_index : opt_base.children.length - 1];\n        opt_base.insertBefore(this.el, child || null);\n    }\n\n    /**\n     * @export\n     * @return {string}\n     */\n    template() {\n        return `<div></div>`;\n    }\n\n    /**\n     * @export\n     * Call when removing this Component from memory\n     */\n    dispose() {\n        ComponentManager.removeComponent(this);\n        this.removeAllListeners();\n\n        this.element_ && this.element_.parentNode && this.element_.parentNode.removeChild(this.element_);\n        this.element_ = null;\n    }\n}\n","import Component from './base/component';\n\n\n/**\n * The default view class for all views. Handles default overrides for\n * Component such as rendering to body by default.\n */\nexport default class View extends Component {\n    constructor() {\n        super();\n\n        this.rendered = false;\n    }\n\n\n    /**\n     * @export\n     *\n     * Overridden to make document.body the default parent element. This method also saves if a view is already rendered.\n     * Original opt_index parameter is also overridden with the view index. In this case, this view will always be appended\n     * to the body.\n     *\n     * @override\n     *\n     * @param {!HTMLElement=} opt_rootEl Root element to render this view in.\n     * @param {number=} opt_index The index of this view in z-axis.\n     */\n    render(opt_rootEl = document.body, opt_index = 0) {\n        this.onBeforeRender();\n        this.rendered = true;\n\n        this.index = opt_index;\n\n        super.render(opt_rootEl);\n\n        this.el.style.zIndex = this.index;\n        this.onAfterRender();\n    }\n\n    /**\n     * @export\n     *\n     * Method called before a render process. Called automatically before each render. Subclasses should override\n     * this method for tasks that should be done right before the View enters the document.\n     */\n    onBeforeRender() { };\n\n\n    /**\n     * @export\n     *\n     * Method called after a render process. Called automatically after each render. Subclasses should override\n     * this method for tasks that should be done when the View is in document.\n     */\n    onAfterRender() { };\n\n\n    /**\n     * @export\n     *\n     * Method called when the View is being activated by a ViewManager. Subclasses should override this method for tasks\n     * that should be done when the View is in viewport, such as updating information, etc.\n     */\n    onActivation() { };\n\n\n    /**\n     * @export\n     *\n     * Overriden to include 'view' as a class name.\n     *\n     * @override\n     */\n    template() {\n        var classDefinition = this.className ? `class=\"${this.className}\"` : '';\n        return `\n<view ${classDefinition}\n    style=\"transform: translate3d(100%, 0, ${this.index}px)\">\n    ${this.template_content()}\n</view>`;\n    };\n\n\n    /**\n     * @export\n     *\n     * Empty content template. Subclasses should override this method and implement necessary markup here.\n     *\n     * @return {string} Content markup for the view.\n     */\n    template_content() {\n        return '';\n    };\n}\n\n\n\n/**\n * @export\n *\n * View index in z-axis. This should be used as the z value for initial translate3d style declaration.\n *\n * @type {number}\n */\nView.prototype.index = 0;\n\n\n/**\n * @export\n *\n * Determines whether the view should support back gestures to go back in history or not.\n *\n * @type {boolean}\n */\nView.prototype.supportsBackGesture = true;\n\n\n/**\n * @export\n *\n * True if the view allows sidebar access. This lets the view manager orchestrate touch gestures for the sidebar menu.\n * Default is false.\n *\n * @type {boolean}\n */\nView.prototype.hasSidebar = false;\n\n\n/**\n * @export\n *\n * Defines CSS class names for the view.\n *\n * @type {string}\n */\nView.prototype.className = '';\n\n\nvar bodyStyle = window.getComputedStyle(document.body, null);\n\n/**\n * @export\n *\n * @type {number} Gives the device width.\n */\nView.WIDTH = parseInt(bodyStyle && bodyStyle.width || 0, 10);\n\nfunction isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n}\n","import View from './view';\nimport ComponentManager from '../lib/base/component-manager';\nimport math from '../lib/base/math';\n\nexport default class ViewManager {\n    /**\n     * This class handles view transitions and view history in a consistent\n     * manner. Should be used by views who would like to contain other views.\n     * Also, each application should have at least one ViewManager.\n     *\n     * @param {!Element=} opt_rootEl Root element for this view manager.\n     */\n    constructor(opt_rootEl) {\n        /**\n         * @type {!Array.<!View>}\n         */\n        this.history = [];\n        this.lastTouches = [];\n        this.state = ViewManager.State.DEFAULT;\n        this.rootEl = opt_rootEl || document.body;\n\n        /**\n         * @type {?View} Current active view.\n         */\n        this.currentView = null;\n\n        this.initTouchEvents_();\n\n        this.hideSidebarTimeout = null;\n\n        this.firstX = null;\n    };\n\n    /**\n     * @return {!View}\n     */\n    getLastViewInHistory() {\n        return this.history[this.history.length - 1];\n    }\n\n\n    /**\n     * @export\n     *\n     * @param {!View} view View to pull into view.\n     * @param {boolean=} opt_canGoBack Whether this view keeps history so that one can go back to the previous view.\n     */\n    pull(view, opt_canGoBack) {\n        if (!view.rendered) view.render(this.rootEl, this.topIndex += 2);\n\n        var currentView = this.currentView;\n\n        if (!currentView) return this.setCurrentView(view);\n\n        if (opt_canGoBack) {\n            this.history.push(currentView);\n\n            const fn = () => {\n                currentView.el.style.transitionDuration = '0s';\n                currentView.el.style.transform = 'translate3d(-100%,-100%,0)';\n                currentView.el.removeEventListener('transitionend', fn);\n            };\n\n            currentView.el.addEventListener('transitionend', fn);\n        }\n        else {\n            var history = this.history.slice(0);\n            this.history = [];\n\n            setTimeout(() => {\n                currentView.dispose();\n\n                // Dispose all views in history.\n                history.forEach(historicView => historicView.dispose());\n            }, 1000);\n        }\n\n        setTimeout(() => {\n            currentView.el.style.transitionDuration = '0.35s';\n            view.el.style.transform = 'translate3d(0, 0, ' + view.index + 'px)';\n            currentView.el.style.transform = 'translate3d(-30%, 0, ' + currentView.index + 'px)';\n            view.el.style['boxShadow'] = '0 0 24px black';\n        }, 50);\n\n        this.currentView = view;\n\n        this.state = ViewManager.State.DEFAULT;\n    };\n\n\n    /**\n     * @export\n     *\n     * Returns true if there is one or more views in history,\n     * returns false otherwise.\n     *\n     * @return {boolean} Whether the view manager can push current view.\n     */\n    canGoBack() {\n        return this.history && this.history.length > 0;\n    };\n\n\n    /**\n     * @export\n     *\n     * Switches to the previous view if there's one.\n     */\n    push() {\n        var lastView = this.history.pop(),\n            currentView = this.currentView;\n\n        if (!lastView) return;\n\n        window.requestAnimationFrame(() => {\n            lastView.el.style.transitionDuration = '0s';\n            lastView.el.style.transform = 'translate3d(-30%,0,0)';\n            window.requestAnimationFrame(() => {\n                lastView.el.style.transitionDuration = '0.35s';\n                currentView.el.style.transitionDuration = '0.35s';\n\n                lastView.el.style.transform = 'translate3d(0, 0, ' + lastView.index + 'px)';\n                currentView.el.style.transform = 'translate3d(100%, 0, ' + currentView.index + 'px)';\n                currentView.el.style['boxShadow'] = '0 0 0 black';\n            });\n        });\n\n        this.currentView = lastView;\n        lastView.onActivation && lastView.onActivation();\n\n        setTimeout(() => currentView.dispose(), 1000);\n\n        this.state = ViewManager.State.DEFAULT;\n    };\n\n\n    /**\n     * @export\n     *\n     * Makes a given view the foremost view without animations and with disposing previous views in history.\n     *\n     * @param {!View} view The view to set as the foremost view.\n     * @param {boolean=} opt_noDispose Whether to dispose the current view.\n     */\n    setCurrentView(view, opt_noDispose) {\n        if (!view.rendered) view.render(this.rootEl, this.topIndex += 2);\n\n        var currentView = this.currentView;\n\n        if (!opt_noDispose) {\n            setTimeout(() => currentView && currentView.dispose(), 1000);\n        } else if (currentView) {\n            currentView.el.style.transitionDuration = '0s';\n            currentView.el.style.transform = 'translate3d(100%, 0, ' + currentView.index + 'px)';\n        }\n\n        view.index = this.topIndex += 2;\n        this.currentView = view;\n        this.currentView.onActivation && this.currentView.onActivation();\n\n\n        // Dispose all views in history.\n        this.history.forEach(historicView => historicView.dispose());\n\n        this.history = [];\n\n        var translation = 'translate3d(0, 0, ' + view.index + 'px)';\n        view.el.style.transitionDuration = '0s';\n\n        if (this.state == ViewManager.State.SIDEBAR_OPEN) {\n            translation = 'translate3d(' + (128 - View.WIDTH) + 'px, 0, ' + view.index + 'px)';\n\n            view.el.style.transform = translation;\n            this.toggleSidebar_(false);\n\n            return;\n        }\n\n        view.el.style.transform = translation;\n        //view.el.style.zIndex = view.index;\n\n        this.state = ViewManager.State.DEFAULT;\n    };\n\n\n    /**\n     * @export\n     *\n     * Toggles the sidebar on or off according to its current state. This is to be used for a menu button, for example.\n     */\n    toggleSidebar() {\n        this.toggleSidebar_(this.state == ViewManager.State.DEFAULT);\n    };\n\n\n    /**\n     * Initializes touch event handlers for all touch end and touch move events ocurring on the root element.\n     *\n     * @private\n     */\n    initTouchEvents_() {\n        this.rootEl.addEventListener('touchmove', this.onTouchMove_.bind(this), false);\n        this.rootEl.addEventListener('touchend', this.onTouchEnd_.bind(this), false);\n    };\n\n\n    /**\n     * Handles touch move events and decides how the view transitions should occur.\n     *\n     * @private\n     * @param {!TouchEvent} e Touch move event.\n     */\n    onTouchMove_(e) {\n        var clientX = e.changedTouches && e.changedTouches[0].clientX || 0;\n        clearTimeout(this.hideSidebarTimeout);\n\n        if (this.state == ViewManager.State.DEFAULT || this.state == ViewManager.State.SIDEBAR_OPEN)\n            this.firstX = clientX;\n\n        if (this.state == ViewManager.State.DEFAULT) {\n            this.lastTouches = [];\n\n            this.state = ViewManager.State.STARTED_GESTURE;\n        }\n\n        if (this.state == ViewManager.State.STARTED_GESTURE) {\n            if (clientX <= 50) {\n                if (this.history.length && this.currentView && this.currentView.supportsBackGesture)\n                    this.state = ViewManager.State.GOING_TO_BACK_VIEW;\n            }\n            else if (this.currentView && this.currentView.hasSidebar) {\n                this.lastTouches.push(this.firstX - clientX);\n\n                if (this.lastTouches.length == 4) this.lastTouches.shift();\n\n                if (this.lastTouches[2] - this.lastTouches[0] > 40)\n                    this.state = ViewManager.State.OPENING_SIDEBAR;\n            }\n        }\n\n        if (this.state == ViewManager.State.SIDEBAR_OPEN)\n            this.state = ViewManager.State.CLOSING_SIDEBAR;\n\n        switch (this.state) {\n            case ViewManager.State.GOING_TO_BACK_VIEW:\n                this.backGestureTouchMove_(e);\n                break;\n            case ViewManager.State.CLOSING_SIDEBAR:\n                this.closeSidebarTouchMove_(e);\n                break;\n            case ViewManager.State.OPENING_SIDEBAR:\n                this.openSidebarTouchMove_(e);\n                break;\n        }\n    };\n\n\n    /**\n     * Handles touch end events and decides how the view transitions should follow.\n     *\n     * @private\n     * @param {!TouchEvent} e Touch end event.\n     */\n    onTouchEnd_(e) {\n        var state;\n\n        switch (this.state) {\n            case ViewManager.State.GOING_TO_BACK_VIEW:\n                this.backGestureTouchEnd_(e);\n                break;\n            case ViewManager.State.OPENING_SIDEBAR:\n                state = true;\n                if (this.lastTouches[2] - this.lastTouches[0] < 3)\n                    state = false;\n\n                this.toggleSidebar_(state);\n                break;\n            case ViewManager.State.CLOSING_SIDEBAR:\n                state = true;\n                if (this.lastTouches[2] - this.lastTouches[0] < -3)\n                    state = false;\n\n                this.toggleSidebar_(state);\n                break;\n            case ViewManager.State.SIDEBAR_OPEN:\n                if (ComponentManager.gestureHandler.canTap) return;\n                this.toggleSidebar_(false);\n                break;\n            default:\n                this.state = ViewManager.State.DEFAULT;\n        }\n    };\n\n\n    /**\n     * Handles touch end event when they occur in a back gesture.\n     *\n     * @private\n     * @param {!TouchEvent} e Touch end event.\n     */\n    backGestureTouchEnd_(e) {\n        if (!this.firstX) return;\n\n        var history = this.history,\n            lastView = this.getLastViewInHistory(),\n            currentView = this.currentView,\n            clientX = e.changedTouches && e.changedTouches[0].clientX || 0,\n            duration = math.lerp(0.15, 0.35, (View.WIDTH - clientX) / View.WIDTH);\n\n        window.requestAnimationFrame(() => {\n            currentView.el.style.transitionDuration = duration + 's';\n            lastView.el.style.transitionDuration = duration + 's';\n\n            var currentViewX = '100%',\n                lastViewX = '0';\n\n            if (clientX < (View.WIDTH / 2)) {\n                currentViewX = '0';\n                lastViewX = '-30%';\n\n                const fn = () => {\n                    lastView.el.style.transitionDuration = '0s';\n                    lastView.el.style.transform = 'translate3d(-100%,-100%,0)';\n                    lastView.el.removeEventListener('transitionend', fn);\n                }\n\n                lastView.el.addEventListener('transitionend', fn);\n            } else {\n                this.currentView = /** View */this.getLastViewInHistory();\n                history.pop();\n\n                lastView.onActivation && lastView.onActivation();\n\n                setTimeout(() => {\n                    currentView.dispose();\n                }, 1000);\n            }\n\n            currentView.el.style.transform = 'translate3d(' + currentViewX + ', 0, ' +\n                currentView.index + 'px)';\n            lastView.el.style.transform = 'translate3d(' + lastViewX + ', 0, ' +\n                (currentView.index - 1) + 'px)';\n            currentView.el.style['boxShadow'] = '0px 0 0px black';\n        });\n\n        this.state = ViewManager.State.DEFAULT;\n    };\n\n\n    /**\n     * Handle touch move events when they occur in a back gesture.\n     *\n     * @private\n     * @param {!TouchEvent} e Touch end event.\n     */\n    backGestureTouchMove_(e) {\n        if (!this.history.length) return;\n\n        /* Google Chrome will fire a touchcancel event about 200 milliseconds\n         after touchstart if it thinks the user is panning/scrolling and you\n         do not call event.preventDefault(). */\n        e.preventDefault();\n        var clientX = e.changedTouches && e.changedTouches[0].clientX || 0;\n\n        var lastView = this.history[this.history.length - 1];\n        var currentView = this.currentView;\n        var currentViewDiff = clientX - this.firstX;\n        var viewWidth = View.WIDTH;\n        var lastViewDiff = Math.floor(math.lerp(-viewWidth * 0.3, 0, currentViewDiff / (viewWidth - this.firstX)));\n        var boxShadow = Math.floor(math.lerp(1, 0, currentViewDiff / (viewWidth - this.firstX)) * 5) / 5;\n        if (currentViewDiff < 0) return;\n\n        window.requestAnimationFrame(() => {\n            currentView.el.style.transitionDuration = '0s';\n            lastView.el.style.transitionDuration = '0s';\n            currentView.el.style.transform = 'translate3d(' + currentViewDiff + 'px, 0, ' +\n                currentView.index + 'px)';\n            lastView.el.style.transform = 'translate3d(' + lastViewDiff + 'px, 0, ' +\n                (currentView.index - 1) + 'px)';\n\n            currentView.el.style['boxShadow'] = '0px 0 24px rgba(0, 0, 0, ' + boxShadow + ')';\n        });\n    };\n\n\n    /**\n     * Close sidebar touch move functionality.\n     *\n     * @private\n     * @param {!TouchEvent} e\n     */\n    closeSidebarTouchMove_(e) {\n        var clientX = e.changedTouches && e.changedTouches[0].clientX || 0;\n\n        this.lastTouches.push(this.firstX - clientX);\n\n        if (this.lastTouches.length == 4) this.lastTouches.shift();\n\n        /* Google Chrome will fire a touchcancel event about 200 milliseconds\n         after touchstart if it thinks the user is panning/scrolling and you\n         do not call event.preventDefault(). */\n        e.preventDefault();\n\n        var currentView = this.currentView;\n        var viewWidth = View.WIDTH;\n        var currentViewDiff = clientX - this.firstX - viewWidth * 4 / 5;\n        window.requestAnimationFrame(() => {\n            currentView.el.style.transitionDuration = '0s';\n            currentView.el.style.transform = 'translate3d(' +\n                currentViewDiff + 'px, 0, ' + currentView.index + 'px)';\n        });\n    };\n\n\n    /**\n     * Toggles the sidebar on or off according to a given state.\n     *\n     * @private\n     * @param {boolean} state Whether to open or close the sidebar.\n     */\n    toggleSidebar_(state) {\n        var currentView = this.currentView,\n            sidebar = document.querySelector('sidebar');\n\n        setTimeout(() => {\n            currentView.el.style.transitionDuration = '0.35s';\n\n            var currentViewX = (128 - View.WIDTH) + 'px',\n                sidebarX = '0',\n                sidebarZ = currentView.index - 1 + 'px';\n\n            if (!state) {\n                currentViewX = '0';\n                sidebarX = '100%';\n                sidebarZ = 0;\n                this.hideSidebarTimeout = setTimeout(() => {\n                    if (this.state == ViewManager.State.DEFAULT)\n                        sidebar.style.transform = 'translate3d(' + sidebarX + ', 0, ' + sidebarZ + ')';\n                }, 1000);\n            } else {\n                sidebar.style.transform = 'translate3d(' + sidebarX + ', 0, ' + sidebarZ + ')';\n            }\n            currentView.el.style.transform = 'translate3d(' + currentViewX + ', 0, ' +\n                currentView.index + 'px)';\n        }, 10);\n\n        if (state)\n            this.state = ViewManager.State.SIDEBAR_OPEN;\n        else\n            this.state = ViewManager.State.DEFAULT;\n    };\n\n\n    /**\n     * Close sidebar touch move functionality.\n     *\n     * @private\n     * @param {!TouchEvent} e\n     */\n    openSidebarTouchMove_(e) {\n        if (ComponentManager.gestureHandler.canTap) return;\n\n        var clientX = e.changedTouches && e.changedTouches[0].clientX || 0;\n        this.lastTouches.push(this.firstX - clientX);\n\n        if (this.lastTouches.length == 4) this.lastTouches.shift();\n\n        /* Google Chrome will fire a touchcancel event about 200 milliseconds\n         after touchstart if it thinks the user is panning/scrolling and you\n         do not call event.preventDefault(). */\n        e.preventDefault();\n\n        var sidebar = document.querySelector('sidebar');\n        var currentView = this.currentView;\n        var currentViewDiff = clientX - this.firstX;\n\n        if (currentViewDiff >= 0) return;\n        this.state = ViewManager.State.OPENING_SIDEBAR;\n\n        window.requestAnimationFrame(() => {\n            sidebar.style.transform = 'translate3d(0, 0, ' + (currentView.index - 1) + 'px)';\n            sidebar.style.transitionDuration = '0s';\n\n            currentView.el.style.transitionDuration = '0s';\n            currentView.el.style.transform = 'translate3d(' +\n                currentViewDiff + 'px, 0, ' + currentView.index + 'px)';\n        });\n    };\n\n    /**\n     * @export\n     *\n     * View manager states.\n     *\n     * @enum {string}\n     */\n    static get State() {\n        return {\n            DEFAULT: 'default',\n            STARTED_GESTURE: 'started',\n            CLOSING_SIDEBAR: 'closingSidebar',\n            OPENING_SIDEBAR: 'openingSidebar',\n            SIDEBAR_OPEN: 'sidebarOpen',\n            GOING_TO_BACK_VIEW: 'going'\n        }\n    }\n}\n\n\n/**\n * @export\n *\n * 3d transform Z position for the uppermost view. Used to set the right view on top.\n * @type {number}\n */\nViewManager.prototype.topIndex = 1;\n\n\nwindow.requestAnimationFrame = (() => {\n    return window.requestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        window.mozRequestAnimationFrame ||\n        function(callback) {\n            window.setTimeout(callback, 1000 / 60);\n        };\n})();\n","/**\n * The default language\n *\n * @type {string}\n */\nvar defaultLang_ = 'en';\n\nvar dictionaries_ = {\n    'en': {\n        '__name': 'English'\n    }\n};\n\nvar dictionary_ = dictionaries_[defaultLang_];\n\n/**\n * @export\n */\nconst setDictionary = (lang, dict) => {\n    dictionaries_[lang] = dict;\n};\n\n/**\n * @export\n *\n * Change the active dictionary\n *\n * @param {string} lang Language code.\n */\nconst setLanguage = (lang) => {\n    dictionary_ = dictionaries_[lang];\n};\n\n\n/**\n * @export\n *\n * Return translation of the given text\n *\n * Look for a translation from goog.require()'d scripts.\n * Replace the variables inside the translation.\n * Return the same text if no translation found.\n *\n * Pass in variables as integers inside curly brackets.\n * {0} will be replaced by first argument and so on.\n *\n * @param  {string}    text    Text to be translated.\n * @param  {...*}      args    Translation arguments.\n * @return {string}    Localized string.\n * @see    {goog.LOCALE}\n */\nconst getLocalizedString = (text, ...args) => {\n    var translation = dictionary_[text] || text;\n\n    return translation.replace(/{(\\d+)}/g, (match, number) => {\n        return typeof args[number] != 'undefined' ? args[number] : match;\n    });\n};\n\nexport default {\n    /**\n     * @export\n     */\n    setDictionary: setDictionary,\n\n    /**\n     * @export\n     */\n    setLanguage: setLanguage,\n\n    /**\n     * @export\n     */\n    getLocalizedString: getLocalizedString,\n\n    /**\n     * @export\n     */\n    __: getLocalizedString\n};\n","import Component from '../../lib/base/component';\n\nexport default class Sidebar extends Component {\n    constructor() {\n        super();\n\n        /**\n         * @export\n         */\n        this.vm = null;\n    }\n\n    /**\n     * @export\n     *\n     * Dispatches a switch view event to listeners and toggles the sidebar of the view manager that\n     * is responsible for this sidebar.\n     *\n     * @param {!{targetEl: !Element}} e Tap event.\n     */\n    onSidebarItemTap(e) {\n        var view = e.targetEl && e.targetEl.getAttribute && e.targetEl.getAttribute('data-view');\n        if (!view) return;\n\n        this.emit(Sidebar.EventType.SWITCH_VIEW, {\n            view: view\n        });\n\n        this.vm && this.vm.toggleSidebar();\n    };\n\n\n    /**\n     * @export\n     *\n     * @override\n     */\n    template() {\n        return `\n<sidebar>\n    <sidebar-items>${this.template_items()}</sidebar-items>\n</sidebar>\n`;\n    };\n\n\n    /**\n     * @export\n     *\n     * @return {string} Returns the items for the sidebar.\n     */\n    template_items() {\n        return '';\n    };\n\n\n    /**\n     * @export\n     *\n     * @enum {string} Dom mapping.\n     */\n    get mappings() {\n        return {\n            ITEM: 'sidebar-item'\n        };\n    }\n\n    get events() {\n        return {\n            'tap': {\n                [this.mappings.ITEM]: this.onSidebarItemTap\n            }\n        };\n    }\n\n    /**\n     * @export\n     */\n    static get EventType() {\n        return {\n            SWITCH_VIEW: 'switchView'\n        };\n    }\n\n}\n","import View from '../../lib/view';\nimport ViewManager from '../../lib/view-manager';\n\nexport default class TabBar extends View {\n    constructor() {\n        super();\n\n        this.vm = null;\n\n        /**\n         * @type {!Array.<!View>}\n         */\n        this.views = [];\n    }\n\n    /**\n     * @export\n     *\n     * @override\n     */\n    onAfterRender() {\n        this.vm = new ViewManager(this.el);\n    };\n\n    /**\n     * @export\n     *\n     * @param {!{targetEl: !Element}} e Item touch event handler.\n     */\n    onItemTap(e) {\n        var activeItem = this.$(this.mappings.ACTIVE);\n        if (activeItem && activeItem == e.targetEl) return;\n\n        var items = this.$(this.mappings.ITEMS);\n        var itemIndex = [].indexOf.call(items && items.children, e.targetEl);\n\n        this.activateItem(itemIndex);\n    };\n\n    /**\n     * @export\n     *\n     * Adds active class to item.\n     * @param {number} index Index of the item to be active.\n     */\n    activateItem(index) {\n        if (index == -1) return;\n\n        this.deactivateActiveItem();\n        var item = this.$$(this.mappings.ITEM)[index];\n        item && item.classList.add('active');\n\n        if (this.views && this.views[index])\n            this.vm.setCurrentView(this.views[index], true);\n    };\n\n\n\n    /**\n     * @export\n     *\n     * Activates a tab bar item with a given name. If an item for the given the name isn't found, does nothing.\n     *\n     * @param {string} name Name for the tab bar item.\n     */\n    activateItemByName(name) {\n        var child = this.$(this.mappings.ITEM + '[data-view=' + name + ']');\n        if (!child) return;\n\n        var items = this.$(this.mappings.ITEMS);\n        var itemIndex = [].indexOf.call(items && items.children, child);\n\n        this.activateItem(itemIndex);\n    };\n\n\n    /**\n     * @export\n     *\n     * Removes active class of active item.\n     */\n    deactivateActiveItem() {\n        var activeItem = this.$(this.mappings.ACTIVE);\n        activeItem && activeItem.classList.remove('active');\n    };\n\n\n\n    /**\n     * @export\n     *\n     * @return {string} Base template of NavigationBar component.\n     */\n    template_content() {\n        return `\n        ${this.template_views()}\n<tab-bar>\n    <tab-items>\n        ${this.template_items()}\n    </tab-items>\n</tab-bar>\n`;\n    };\n\n    template_views() {\n        return this.views.join('');\n    }\n\n    /**\n     * @export\n     *\n     * @return {string} Template for tab bar items.\n     */\n    template_items() {\n        return '';\n    };\n\n    /**\n     * @export\n     *\n     * @enum {string} Dom mappings.\n     */\n    get mappings() {\n        return {\n            ITEM: 'tab-item',\n            ITEMS: 'tab-items',\n            ACTIVE: '.active'\n        };\n    }\n\n    /**\n     * @export\n     */\n    get events() {\n        return {\n            'touchend': {\n                [this.mappings.ITEM]: this.onItemTap.bind(this)\n            }\n        }\n    }\n}\n","import Component from '../../lib/base/component';\n\nexport default class NavBar extends Component {\n    /**\n     * Includes back button for back navigation.\n     *\n     * @param {NavBar.NavBarOptions=} opt_config Config parameters to\n     *        include things like title.\n     */\n    constructor(opt_config = {hasBackButton: false, hasMenuButton: false, title: ''}) {\n        super();\n        this.vm = null;\n\n        this.config = opt_config;\n\n        this.hasBackButton = this.config.hasBackButton;\n        this.hasMenuButton = this.config.hasMenuButton;\n    }\n\n    /**\n     * Back button tap event handler.\n     */\n    onBackButtonTap() {\n        this.vm.push();\n    };\n\n    onMenuButtonTap() {\n        if (this.menuButtonHandler) return this.menuButtonHandler();\n\n        this.vm.toggleSidebar();\n    };\n\n    /**\n     * @override\n     */\n    template() {\n        var backButton = '',\n            menuButton = '';\n\n        if (this.hasBackButton) backButton = `<back-button></back-button>`;\n        if (this.hasMenuButton) menuButton = `<menu-button></menu-button>`;\n\n        return `\n<nav-bar>${backButton}${menuButton}${this.config.title || ''}</nav-bar>\n`;\n    }\n\n    get mappings() {\n        return {\n            BACK_BUTTON: 'back-button',\n            MENU_BUTTON: 'menu-button'\n        };\n    }\n\n    get events() {\n        return {\n            'tap': {\n                [this.mappings.BACK_BUTTON]: this.onBackButtonTap,\n                [this.mappings.MENU_BUTTON]: this.onMenuButtonTap\n            }\n        };\n    }\n}\n\n/**\n* @typedef {{hasBackButton: boolean, hasMenuButton: boolean, title: string}}\n*/\nNavBar.NavBarOptions;\n","import EventEmitter2 from '../../lib/base/eventemitter2';\n\n/**\n * Model for the pull to refresh component. Manages refreshing states to prevent\n * performance problems like double actions.\n */\nexport default class P2RComponentModel extends EventEmitter2 {\n    constructor() {\n        super({\n            maxListeners: Infinity\n        });\n\n        this.reset();\n\n        this.state_ = this.State.DEFAULT;\n    }\n\n    reset() {\n        this.state_ = this.State.DEFAULT;\n    }\n\n\n    /**\n     * If the component is not in REFRESHING state, it should check to see if it\n     * should refresh. This method will be triggered on every scroll event.\n     */\n    triggerShouldCheckState() {\n        if (this.state_ != this.State.REFRESHING)\n            this.state_ = this.State.SHOULD_CHECK;\n    };\n\n\n    /**\n     * Informs the caller if this model is in an appropriate state for checking\n     * the right (scroll) position.\n     *\n     * @return {boolean} Whether the component should check for the right\n     *                   (scroll) position.\n     */\n    shouldCheck() {\n        return this.state_ == this.State.SHOULD_CHECK;\n    };\n\n    /**\n     * Dispatches a refresh event to inform the parent component that it's at the appropriate\n     * position for refresh.\n     */\n    refresh() {\n        if (!this.shouldCheck()) return;\n\n        this.state_ = this.State.REFRESHING;\n\n        this.emit(this.EventType.SHOULD_REFRESH);\n    };\n\n\n\n    /**\n     * Pull to refresh states.\n     *\n     * @enum {string}\n     */\n    get State() {\n        return {\n            DEFAULT: 'default',\n            SHOULD_CHECK: 'shouldCheck',\n            REFRESHING: 'refreshing'\n        }\n    };\n\n\n    /**\n     * Event types for this model.\n     *\n     * @enum {string}\n     */\n    get EventType() {\n        return {\n            SHOULD_REFRESH: 'refresh'\n        }\n    }\n}\n","import Component from '../../lib/base/component';\nimport PullToRefreshModel from './pull-to-refresh-model';\n\nexport default class PullToRefresh extends Component {\n    /**\n     * P2RComponent is a small component which checks the scroll position of a\n     * given DOM element, and if it's in\n     * an appropriate position, fires a REFRESH event for the parent component\n     * to act upon. When the parent component is\n     * done with refreshing, it should reset this P2RComponent with the\n     * reset() method.\n     *\n     * @param {!Element=} opt_el Optional element to track its scroll.\n     */\n    constructor(opt_el) {\n        super();\n\n        this.model = new PullToRefreshModel();\n\n        this.EventType = this.model.EventType;\n        this.scrollEl = null;\n        this.containerEl = null;\n        this.scrollListener_ = null;\n        this.releaseListener_ = null;\n\n        if (opt_el) this.register(opt_el);\n\n        this.bindModelEvents();\n    }\n\n    bindModelEvents() {\n        this.model.on(this.model.EventType.SHOULD_REFRESH, this.onShouldRefresh.bind(this));\n    }\n\n    /**\n     * Triggered when the components decides a refresh action. This method should be overridden\n     * to, for example, display a spinner animation during refresh.\n     */\n    onShouldRefresh() {\n        var spinner = this.$(this.mappings.SPINNER);\n        var arrow = this.$(this.mappings.ARROW);\n\n        window.requestAnimationFrame(() => {\n            this.containerEl.style.transform = `translateY(${this.height}px)`;\n            this.containerEl.style.transition = '800ms cubic-bezier(.41,1,.1,1)';\n\n            if (spinner) spinner.style.visibility = 'visible';\n            if (arrow) arrow.style.visibility = 'hidden';\n\n            this.emit(this.model.EventType.SHOULD_REFRESH);\n        });\n    };\n\n\n    /**\n     * @override\n     */\n    render(opt_base, opt_index) {\n        super.render(opt_base, opt_index);\n\n        if (!this.scrollEl) this.register(this.el.parentElement);\n    };\n\n\n    /**\n     * Resets the component state to default. This should be used to signal the\n     * end of refreshing so that this component\n     * can again check for pull to refresh.\n     */\n    reset() {\n        if (this.scrollEl) {\n            this.containerEl.style.transform = 'translateY(0)';\n            this.containerEl.style.transition = '300ms ease-out';\n        }\n\n        var spinner = this.$(this.mappings.SPINNER);\n        var arrow = this.$(this.mappings.ARROW);\n\n        if (spinner) spinner.style.visibility = 'hidden';\n\n        setTimeout(() => {\n            if (arrow) arrow.style.visibility = 'visible';\n        }, 500);\n\n        this.model.reset();\n    };\n\n\n    /**\n     * Registers an element to track its scroll. This can be used for lazily introducing an element to track.\n     *\n     * @param {?Element} scrollEl Element to track.\n     * @param {?Element=} containerEl Element to offset during activity.\n     */\n    register(scrollEl, containerEl) {\n        if (!scrollEl) return;\n\n        if (this.scrollListener_)\n            this.scrollEl.removeEventListener('scroll', this.scrollListener_);\n        if (this.releaseListener_)\n            document.body.removeEventListener('touchend', this.releaseListener_);\n\n        this.scrollEl = scrollEl;\n\n        if (containerEl)\n            this.containerEl = containerEl;\n        else\n            this.containerEl = scrollEl;\n\n        this.reset();\n\n        this.scrollListener_ = this.onScroll_.bind(this);\n        this.releaseListener_ = this.onRelease_.bind(this);\n\n        this.scrollEl.addEventListener('scroll', this.scrollListener_);\n        document.body.addEventListener('touchend', this.releaseListener_);\n    };\n\n\n    /**\n     * Scroll event handler for pull to refresh.\n     *\n     * @private\n     *\n     * @param {!Event} e Scroll event object.\n     */\n    onScroll_(e) {\n        this.checkShouldRefresh();\n\n        var rot = 0,\n            scroll = -(e.target && e.target.scrollTop || 0),\n            pos = this.arrowOffset + Math.pow(scroll, 0.75),\n            rotationThreshold = this.threshold - 60;\n\n        if (scroll >= rotationThreshold)\n            rot = Math.min(180, (scroll - rotationThreshold) * 3);\n\n        var arrow = this.$(this.mappings.ARROW);\n\n        if (arrow)\n            arrow.style.transform = `translateY(${pos}px) rotate(${rot}deg)`;\n    };\n\n\n    /**\n     * Fires when the user lifts her finger to finish the scroll.\n     * If the user scrolled enough, inform the model to refresh\n     *\n     * @private\n     */\n    onRelease_() {\n        if (this.scrollEl.scrollTop < -this.threshold)\n            this.model.refresh();\n    };\n\n\n    /**\n     * If in an appropriate state, checks if the scroll position is right\n     * and if so triggers a refresh event.\n     */\n    checkShouldRefresh() {\n        this.model.triggerShouldCheckState();\n    };\n\n\n    /**\n     * @override\n     */\n    template() {\n        return `\n<pull-to-refresh>\n    <pull-to-refresh-arrow></pull-to-refresh-arrow>\n    <pull-to-refresh-spinner></pull-to-refresh-spinner>\n</pull-to-refresh>\n`;\n    };\n\n\n    /**\n     * @override\n     */\n    dispose() {\n        this.model.dispose();\n        this.el && this.el.removeEventListener('scroll', this.scrollListener_);\n        document.body.removeEventListener('touchend', this.releaseListener_);\n\n        super.dispose();\n    };\n\n\n    /**\n     * @enum {string}\n     */\n    get mappings() {\n        return {\n            ARROW: 'pull-to-refresh-arrow',\n            SPINNER: 'pull-to-refresh-spinner'\n        };\n    }\n}\n\n/**\n * Threshold value for the release action. Releases after this threshold will trigger a refresh.\n *\n * @type {number}\n */\nPullToRefresh.prototype.threshold = 135;\n\n\n/**\n * Height of this component. This setting is used to offset the scroll view while refreshing.\n *\n * @type {number}\n */\nPullToRefresh.prototype.height = 96;\n\n\n/**\n * Start position of the arrow. This is adjusted for a spring-like effect.\n *\n * @type {number}\n */\nPullToRefresh.prototype.arrowOffset = 0;\n","import EventEmitter2 from '../../lib/base/eventemitter2';\n\n/**\n * Model for the infinite scroll component. Manages loading states to prevent\n * performance problems like double actions.\n */\nexport default class InfiniteScrollModel extends EventEmitter2 {\n    constructor() {\n        super({\n            maxListeners: Infinity\n        });\n\n        this.state_ = this.State.DEFAULT;\n    }\n\n    /**\n     * Resets the component state to default state.\n     */\n    reset() {\n        this.state_ = this.State.DEFAULT;\n    }\n\n\n    /**\n     * If the component is not in LOADING state, it should check to see if it\n     * should load. This method will be triggered on every scroll event.\n     */\n    triggerShouldCheckState() {\n        if (this.state_ != this.State.LOADING)\n            this.state_ = this.State.SHOULD_CHECK;\n    };\n\n\n    /**\n     * Informs the caller if this model is in an appropriate state for checking\n     * the right (scroll) position.\n     *\n     * @return {boolean} Whether the component should check for the right\n     *                   (scroll) position.\n     */\n    shouldCheck() {\n        return this.state_ == this.State.SHOULD_CHECK;\n    };\n\n\n    /**\n     * Emits a load event to inform the parent component that it's at the\n     * end of a scroll and should load more items.\n     */\n    load() {\n        if (!this.shouldCheck()) return;\n\n        this.state_ = this.State.LOADING;\n\n        this.emit(this.EventType.SHOULD_LOAD);\n    };\n\n\n    /**\n     * Load more states.\n     *\n     * @enum {string}\n     */\n    get State() {\n        return {\n            DEFAULT: 'default',\n            SHOULD_CHECK: 'shouldCheck',\n            LOADING: 'loading'\n        }\n    };\n\n\n    /**\n     * Event types for this model.\n     *\n     * @enum {string}\n     */\n    get EventType() {\n        return {\n            SHOULD_LOAD: 'load'\n        }\n    };\n}\n","/*!\n * Throttle function\n * https://remysharp.com/2010/07/21/throttling-function-calls\n *\n * Copyright (c) 2010 Remy Sharp\n */\n\n/**\n * @param {!Function} fn\n * @param {number} threshhold\n * @param {?Object=} scope\n */\nexport default (fn, threshhold, scope) => {\n    var last = 0,\n        deferTimer;\n\n    /**\n     * @param {...*} args\n     */\n    var rv = (...args) => {\n        /** @type {number} */\n        var now = +new Date;\n\n        if (last && (now < add(last, threshhold))) {\n            clearTimeout(deferTimer);\n            deferTimer = setTimeout(() => {\n                last = now;\n                fn.apply(scope, args);\n            }, threshhold + last - now);\n        } else {\n            last = now;\n            fn.apply(scope, args);\n        }\n    };\n\n    return rv;\n}\n\nfunction add(a, b) {\n    return a + b;\n}\n","import Component from '../../lib/base/component';\nimport InfiniteScrollModel from './infinite-scroll-model';\nimport throttle from '../../lib/throttle';\n\nexport default class InfiniteScroll extends Component {\n    /**\n     * InfiniteScrollComponent is a small component which checks the scroll\n     * position of a given DOM element, and if it's in\n     * an appropriate position, fires a LOAD event for the parent component\n     * to act upon. When the parent component is\n     * done loading new items, it should reset this InfiniteScrollComponent\n     * with the reset() method.\n     *\n     * @param {!Element=} opt_el Optional element to track its scroll.\n     */\n    constructor(opt_el) {\n        super();\n        this.model = new InfiniteScrollModel();\n\n        this.EventType = this.model.EventType;\n\n        this.scrollListener_ = null;\n        this.scrollEl = null;\n\n        /**\n         * Message to show when no more items are available to load.\n         *\n         * @type {string}\n         */\n        this.endOfListText = '';\n\n        this.throttle = throttle(this.checkShouldLoadMore_, 100, this);\n\n        if (opt_el) this.register(opt_el);\n        this.bindModelEvents();\n    }\n\n    bindModelEvents() {\n        this.model.on(this.model.EventType.SHOULD_LOAD, this.onShouldLoad.bind(this));\n    }\n\n    onShouldLoad() {\n        this.emit(this.EventType.SHOULD_LOAD);\n    }\n\n\n    /**\n     * @override\n     */\n    render(opt_base, opt_index) {\n        super.render(opt_base, opt_index);\n\n        if (!this.el) this.register(this.el.parentElement);\n    };\n\n\n    /**\n     * Resets the component state to default. This should be used to signal\n     * the end of loading so that this component\n     * can again check for loading.\n     */\n    reset() {\n        this.model.reset();\n    };\n\n\n    /**\n     * Registers an element to track its scroll. This can be used for lazily introducing an element to track.\n     *\n     * @param {?Element} el Element to track.\n     */\n    register(el) {\n        if (!el) return;\n\n        this.reset();\n\n        this.scrollEl && this.scrollEl.removeEventListener('scroll', this.scrollListener_);\n\n        this.scrollEl = el;\n        this.scrollListener_ = this.onScroll_.bind(this);\n        this.scrollEl.addEventListener('scroll', this.scrollListener_);\n    };\n\n\n    /**\n     * Scroll event handler for infinite scroll. Fires the throttle to check for\n     * the correct load more position.\n     *\n     * @private\n     */\n    onScroll_() {\n        this.throttle();\n    };\n\n\n    /**\n     * If in an appropriate state, checks if the scroll position is right and if so triggers a load more event.\n     *\n     * @private\n     */\n    checkShouldLoadMore_() {\n        this.model.triggerShouldCheckState();\n        if (!this.model.shouldCheck()) return;\n\n        var el = this.scrollEl;\n        if (!el) return;\n\n        if (el.scrollHeight > el.offsetHeight && // the element can actually scroll\n            el.scrollTop > el.scrollHeight - el.offsetHeight - 400) // and we're in a good position to load more\n            this.model.load();\n    };\n\n\n    /**\n     * Shows spinner during load.\n     */\n    showSpinner() {\n        this.el.classList.add('spinner');\n        this.el.innerText = '';\n        this.reset();\n    };\n\n\n    /**\n     * Shows end of list message if no more items are available.\n     */\n    showEndOfList() {\n        this.el.innerText = this.endOfListText;\n        this.el.classList.remove('spinner');\n    };\n\n\n    /**\n     * @override\n     */\n    template() {\n        return `<inf-scroll></inf-scroll>`;\n    };\n\n\n    /**\n     * @override\n     */\n    dispose() {\n        this.model.dispose();\n        this.scrollEl.removeEventListener(this.scrollListener_);\n\n        super.dispose();\n    };\n}\n\n\n","import Component from './lib/base/component';\nimport ViewManager from './lib/view-manager';\nimport View from './lib/view';\nimport locale from './lib/locale';\nimport Sidebar from './components/sidebar/sidebar';\nimport TabBar from './components/tabbar/tabbar';\nimport NavBar from './components/navbar/navbar';\nimport PullToRefresh from './components/pull-to-refresh/pull-to-refresh';\nimport InfiniteScroll from './components/infinite-scroll/infinite-scroll';\n\n/**\n * @export\n */\nwindow.erste = {\n    /**\n     * @export\n     */\n    Component: Component,\n\n    /**\n     * @export\n     */\n    ViewManager: ViewManager,\n\n    /**\n     * @export\n     */\n    View: View,\n\n    /**\n     * @export\n     */\n    locale: locale,\n\n    /**\n     * @export\n     */\n    Sidebar: Sidebar,\n\n    /**\n     * @export\n     */\n    TabBar: TabBar,\n\n    /**\n     * @export\n     */\n    NavBar: NavBar,\n\n    /**\n     * @export\n     */\n    PullToRefresh: PullToRefresh,\n\n    /**\n     * @export\n     */\n    InfiniteScroll: InfiniteScroll\n};\n"]}